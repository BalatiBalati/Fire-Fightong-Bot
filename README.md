# X-TNGUISH FIRE FIGHTING BOT

## Overview
The **Fire-Fighting Robot** is an autonomous robotic system designed to detect fires, navigate to the source, and extinguish them. Utilizing a combination of advanced sensors, image processing, and real-time control systems, the robot is capable of effectively responding to fire hazards in dynamic environments. Key components such as **Raspberry Pi**, **Arduino**, **OpenCV**, and various environmental sensors work in unison to detect fire, navigate through obstacles, and suppress flames using a water spraying mechanism.

## Table of Contents
1. [Introduction](#introduction)
2. [Components](#components)
3. [System Architecture](#system-architecture)
4. [How It Works](#how-it-works)
5. [Code Explanation](#code-explanation)
6. [How Codes Link Together](#how-codes-link-together)
7. [Dependencies](#dependencies)
8. [Problems Encountered](#problems-encountered)
9. [Future Work & Improvements](#future-work--improvements)
10. [Installation](#installation)
11. [Usage](#usage)
12. [Contributing](#contributing)
13. [License](#license)

## Introduction
The Fire-Fighting Robot is designed to autonomously detect fire hazards and perform firefighting operations. By utilizing multiple sensors such as ultrasonic, gas (MQ2), IR, and a camera with OpenCV image processing, the robot is capable of navigating to the source of the fire, detecting the flame, and extinguishing it using a water pump. The system integrates **Raspberry Pi** for high-level image processing and coordination, and **Arduino** for controlling the robot’s movement and real-time operations.

## Components
The key hardware components used in this project include:

- **Raspberry Pi 3/4**: Acts as the main controller for image processing, fire detection, and system coordination.
- **Arduino Uno**: Controls the motor drivers and real-time operations of the robot.
- **Camera Module (PiCamera)**: Captures live video for fire detection using OpenCV.
- **Ultrasonic Sensor**: Measures the water tank level and helps with obstacle detection.
- **MQ2 Gas Sensor**: Detects combustible gases in the environment, providing an additional layer of safety.
- **IR Sensors**: Used for proximity sensing and avoiding obstacles.
- **Relay Module**: Controls the water pump for extinguishing fires.
- **Water Pump**: Activated by the Raspberry Pi to spray water on the detected fire.
- **LED Indicators**: Provides visual feedback on the system's operational status (green for active, red for fire detection).

## System Architecture
The system is divided into two primary units:

1. **Raspberry Pi**:
   - Handles high-level functions, including image processing (using OpenCV) for fire detection.
   - Coordinates with **Arduino** to control motors and firefighting mechanisms.
   - Monitors data from sensors like the MQ2 gas sensor, ultrasonic sensor, and IR sensors.

2. **Arduino**:
   - Responsible for controlling the motors and movement of the robot based on the commands received from Raspberry Pi.
   - Uses sensor data for obstacle avoidance and helps navigate the robot to the fire source.
   - Activates the water pump when fire is detected.

## How It Works
1. **Fire Detection**:
   - The **PiCamera** captures video in real-time, which is processed by OpenCV.
   - The image is converted into the **HSV color space**, which allows better differentiation of fire colors.
   - **Thresholding** is applied to detect pixels that correspond to fire. If the area covered by fire pixels exceeds a predefined threshold, the fire is detected.

2. **Navigation**:
   - Using data from **IR sensors** and the **ultrasonic sensor**, the robot navigates the environment and avoids obstacles while heading towards the fire source.
   - **Arduino** processes sensor data to control the motors, moving the robot autonomously toward the fire.

3. **Fire Suppression**:
   - Once the fire is detected and the robot reaches the fire source, the **Raspberry Pi** sends a signal to the **Arduino** to activate the **water pump**, spraying water to extinguish the fire.

4. **Environmental Monitoring**:
   - The **MQ2 gas sensor** monitors the environment for the presence of dangerous gases. If harmful gases are detected, the robot may stop or navigate to a safer area.

## Code Explanation

### **Fire Detection with OpenCV**
- The video frames from the **PiCamera** are processed in **OpenCV** to detect flames.
- Frames are converted to the **HSV color space** for better color differentiation (fire tends to have distinct colors that are easier to isolate in HSV).
- A **binary mask** is generated by applying a color threshold, isolating the fire in the frame.
- The area of fire is estimated by counting the non-zero pixels in the mask. If the area exceeds a threshold, the robot identifies a fire hazard.

### **Sensor Integration**
- The **MQ2 gas sensor** detects gases such as methane and propane and alerts the system if dangerous levels of gases are present.
- The **IR sensors** provide proximity data to help with obstacle detection and avoidance.
- The **ultrasonic sensor** helps with water level detection and navigation.

### **Motor Control and Relay Logic**
- The **motor driver** and **relay** are used to control the robot’s movement and the activation of the water pump.
- The relay switches on the **water pump** to extinguish the fire, while **LED indicators** provide visual feedback on the system’s status (e.g., motor on/off, fire detected).

### **Exception Handling and Cleanup**
- The code gracefully handles exceptions, particularly during interruptions like **KeyboardInterrupt**.
- Upon detecting an interruption, the program safely stops operations, cleans up GPIO resources, and ensures the system shuts down properly.

## How Codes Link Together

The system relies on two main pieces of code, one running on the **Raspberry Pi** and the other on the **Arduino**. These two systems work together in real-time to ensure that the robot can autonomously detect fire, navigate towards it, and suppress it effectively. Here's how they are connected:

### 1. **Communication Between Raspberry Pi and Arduino**
   - The **Raspberry Pi** communicates with the **Arduino** using **serial communication** via the USB connection.
   - The **Raspberry Pi** sends control signals (such as movement commands or activation of the water pump) to the **Arduino** through the **serial interface** (using Python's `pySerial` library).
   - The **Arduino** listens for these commands and then controls the motors or activates the water pump accordingly.

### 2. **Fire Detection Flow**
   - **Raspberry Pi** captures real-time video through the **PiCamera**, processes the image using **OpenCV**, and detects the presence of fire.
   - Once fire is detected, the **Raspberry Pi** sends a signal via serial communication to the **Arduino**, instructing it to move toward the detected fire source.
   - The **Arduino** then processes the received signal, activates the motors for navigation, and adjusts movement based on data from sensors (e.g., ultrasonic or IR).
   
### 3. **Water Pump Activation**
   - When the robot reaches the fire source, the **Raspberry Pi** sends a command to the **Arduino** to activate the water pump.
   - The **Arduino** receives the signal and triggers the relay, turning on the **water pump** to extinguish the fire.
   
### 4. **Obstacle Avoidance**
   - While navigating towards the fire, the **Arduino** constantly monitors the **IR sensors** and **ultrasonic sensor** to detect and avoid obstacles.
   - If an obstacle is detected, the **Arduino** adjusts the robot’s movement accordingly.

### 5. **Sensor Data Collection**
   - The **Arduino** also collects data from various environmental sensors (like the **MQ2 gas sensor**) and sends it to the **Raspberry Pi** to monitor the environment for safety.

## Dependencies
To set up and run this project, you will need to install the following dependencies:

- **Python 3**: Ensure that Python 3.x is installed on the Raspberry Pi.
- **OpenCV**: For image processing and fire detection.
  - Install OpenCV with: `sudo apt-get install python3-opencv`
- **NumPy**: For numerical operations (required by OpenCV).
  - Install NumPy with: `pip3 install numpy`
- **RPi.GPIO**: For interfacing with the GPIO pins of the Raspberry Pi.
  - Install RPi.GPIO with: `sudo apt-get install python3-rpi.gpio`
- **Picamera**: For interfacing with the Raspberry Pi camera module.
  - Install PiCamera with: `sudo apt-get install python3-picamera`
- **Serial**: For communication between Raspberry Pi and Arduino (if not installed).
  - Install pySerial with: `pip3 install pyserial`

**Note**: If using an Arduino Uno, you'll need to install the **Arduino IDE** and upload the relevant code to the Arduino board.

## Problems Encountered
During the project implementation, we encountered several challenges:
- **Component Failures**: Some components, including the **Raspberry Pi**, were damaged due to power surges. We replaced them promptly to keep development on track.
- **OpenCV Setup Issues**: There were compatibility issues between the camera model and OpenCV, requiring troubleshooting to get everything working.
- **Water Spillage**: An accidental water spillage caused a temporary concern for hardware damage. Quick action ensured no major damage occurred.

## Future Work & Improvements
While the system is functional, there are multiple areas where improvements can be made:
- **Enhanced Sensor Integration**: Adding **thermal cameras** and more sensitive gas sensors would improve fire detection accuracy.
- **Alternative Fire Suppression**: Integrating **dry chemical agents** or **foam-based systems** could help suppress different types of fires more effectively.
- **Autonomous Navigation**: With more advanced algorithms and **machine learning**, the robot could adapt to dynamic environments and improve path planning.
- **Remote Monitoring**: Implementing **live streaming** of video feeds and **real-time data transmission** could enhance firefighter situational awareness.
- **Increased Robustness**: Making the robot more durable and resistant to extreme environments (heat, water, debris) would be crucial for operational reliability.

## Installation

### Prerequisites
1. **Raspberry Pi** (any model 3 or above) with **Raspbian** OS installed.
2. **Arduino Uno** for motor and sensor control.
3. **Camera Module** connected to the Raspberry Pi for real-time fire detection.
4. **Various sensors** (MQ2, IR, Ultrasonic) and motor components connected to the GPIO pins.

### Setup Instructions

1. Clone the repository:
   ```bash
   git clone https://github.com/yourusername/fire-fighting-robot.git
   cd fire-fighting-robot

# Fire Detection Robot

## Connect the hardware components

Connect the hardware components as per the wiring instructions in the repository.

## Upload the Arduino code to the Arduino Uno

1. Open the `arduino_code.ino` file in the Arduino IDE.
2. Upload it to the board.

## Run the main Python script to launch the robot

```bash
python3 robot_main.py
